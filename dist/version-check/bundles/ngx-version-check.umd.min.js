!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common/http"),require("rxjs")):"function"==typeof define&&define.amd?define("ngx-version-check",["exports","@angular/core","@angular/common/http","rxjs"],n):n((e=e||self)["ngx-version-check"]={},e.ng.core,e.ng.common.http,e.rxjs)}(this,(function(e,n,t,r){"use strict";var o=function(){function e(e){this.http=e,this.currentHash="{{POST_BUILD_ENTERS_HASH_HERE}}",this.version="{{POST_BUILD_ENTERS_VERSION_HERE}}",this.newVersionAvailable=!1}return e.prototype.startVersionChecking=function(e){var n=this;void 0===e&&(e={notification:null,frequency:18e5}),this.checkVersion(e.notification).then((function(){n.newVersionAvailable||(n.versionCheckInterval=r.interval(e.frequency).subscribe((function(){n.checkVersion(e.notification)})))}))},e.prototype.stopVersionChecking=function(){this.versionCheckInterval&&this.versionCheckInterval.unsubscribe()},e.prototype.checkVersion=function(e){var n=this;return this.http.get("version.json?t="+(new Date).getTime()).toPromise().then((function(t){n.newVersionAvailable=n.hasHashChanged(n.currentHash,t.hash),n.newVersionAvailable&&(n.stopVersionChecking(),e&&e())})).catch((function(e){console.error(e,"Error checking version")}))},e.prototype.hasHashChanged=function(e,n){return!(!e||"{{POST_BUILD_ENTERS_HASH_HERE}}"===e)&&e!==n},Object.defineProperty(e.prototype,"Hash",{get:function(){return this.currentHash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"NewVersionAvailable",{get:function(){return this.newVersionAvailable},enumerable:!1,configurable:!0}),e}();o.ɵprov=n.ɵɵdefineInjectable({factory:function(){return new o(n.ɵɵinject(t.HttpClient))},token:o,providedIn:"root"}),o.decorators=[{type:n.Injectable,args:[{providedIn:"root"}]}],o.ctorParameters=function(){return[{type:t.HttpClient}]},e.VersionCheckService=o,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-version-check.umd.min.js.map